{% extends "layout.html" %}
{% load static %}

{% block title %}iMart - Products{% endblock %}

{% block content %}
    <div class="pagetitle">
      <h1>Products</h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="{% url 'homepage' %}">Home</a></li>
          <li class="breadcrumb-item active">{{ product.Product_title }}</li>
        </ol>
      </nav>
    </div>

    <section class="section">
      <div class="row">
        <div class="col-md-6">
            <!-- <div class="product-images">
                <div class="product-main-image">
                    <img src="{{ product.Product_image.url }}" alt="product">
                </div>
                <div class="product-thumbs">
                    <div class="product-thumb-item">
                        <img src="{{ product.Product_image.url }}" alt="product">
                    </div>
                    <div class="product-thumb-item">
                        <img src="{{ product.Product_image_2.url }}" alt="product">
                    </div>
                    <div class="product-thumb-item">
                        <img src="{{ product.Product_image_2.url }}" alt="product">
                    </div>
                </div>
            </div> -->
            <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <img src="{{ product.Product_image.url }}" class="d-block w-100" alt="...">
                  </div>
                  <div class="carousel-item">
                    <img src="{{ product.Product_image_2.url }}" class="d-block w-100" alt="...">
                  </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
        <div class="col-md-6">
            <div class="product-body">
                <div class="product-label">
                </div>
                    <h2 class="product-name">{{ product.Product_title }}</h2>
                    <h3 class="product-price"><small><strike> ₹{{ product.Product_mrp }}</strike></small> ₹{{ product.Selling_price }}</h3>
                    {% if product.Quantity_available > 0 %}  
                      <p><strong>Availability:  </strong>In Stock</p>
                    {% else %}
                      <p><strong>Availability:  </strong>Out of stock</p>
                    {% endif %}
                    <p><strong>Brand:  </strong>{{ product.Brand }}</p>
                    <p><strong>Category:  </strong>{{ product.category_id.Name }}</p>                    
                    <div class="product-btns">
                        <div class="qty-input">
                            <span class="text-uppercase">Description: </span>     
                            <p>{{ product.Product_description }}</p>                   
                        </div>
                    </div>
                <br>   
                <a href="{% url 'buyer_add_to_cart' product.Product_id %}" class="btn btn-primary rounded-pill w-30"><i class="fa fa-shopping-cart"></i> Add to Cart</a>                
                <br>
                <br>
                <button class="btn btn-primary rounded-pill w-30" onclick="myFunction()"><i class="fa fa-link"></i> Share product</button>
            </div>
        </div>  
      </div>
    </section>
{% endblock %}

{% block script %}
<script>
    function myFunction() {
        /* Get the text field */
        var copyText = window.location.href;      
      
         /* Copy the text inside the text field */
        navigator.clipboard.writeText(copyText);
      
        /* Alert the copied text */
        alert("Link is attached to your clipboard " + copyText);
      }
    </script>
{% endblock %}